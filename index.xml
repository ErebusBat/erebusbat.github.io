<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ErebusBat</title>
    <link>http://www.erebusbat.com/</link>
    <description>Recent content on ErebusBat</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 02 Jul 2015 14:49:48 -0600</lastBuildDate>
    <atom:link href="http://www.erebusbat.com/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>MySQL Delete with JOIN and alias</title>
      <link>http://www.erebusbat.com/2015/07/mysql-delete-with-join-and-alias/</link>
      <pubDate>Thu, 02 Jul 2015 14:49:48 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2015/07/mysql-delete-with-join-and-alias/</guid>
      <description>&lt;p&gt;Delete from an aliased table with a join.  Just make sure to use the table
alias after the delete statement: &lt;code&gt;DELETE c&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;This will delete any customers who do not have both a &lt;code&gt;User&lt;/code&gt; and &lt;code&gt;Draw&lt;/code&gt; record&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;DELETE C
FROM customers C
    LEFT OUTER JOIN users U ON C.number=U.customer_number
WHERE C.number NOT IN (
    SELECT DISTINCT customer_number FROM customer_draws WHERE customer_number IS NOT NULL
)
AND U.id IS NULL;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It can be simplified by using another &lt;code&gt;OUTER&lt;/code&gt; join:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;DELETE C
FROM customers C
    LEFT OUTER JOIN users U ON C.number=U.customer_number
    LEFT OUTER JOIN customer_draws CD ON C.number=CD.customer_number
WHERE
    U.id IS NULL AND  -- No User Record
    CD.id IS NULL;    -- No Draw Record
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Rails: Allow users to use asterisks as wildcards.</title>
      <link>http://www.erebusbat.com/2015/07/rails-allow-users-to-use-asterisks-as-wildcards./</link>
      <pubDate>Wed, 01 Jul 2015 10:17:12 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2015/07/rails-allow-users-to-use-asterisks-as-wildcards./</guid>
      <description>

&lt;p&gt;Simple method that iterates a hash and any string values that contain an asterisk
are changed to a percent sign.  It will &lt;em&gt;not&lt;/em&gt; iterate to sub hashes.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;def fix_asterisks hash
  hash = hash.dup
  hash.each_pair do |key, val|
    if val.is_a?(String) &amp;amp;&amp;amp; val =~ /\*/
      hash[key] = val.gsub(/\*/, &#39;%&#39;)
    end
  end
end

def controller_action
  query = QueryObject.new(fix_asterisks(params[:query]))
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;examples:340c4c4ca88c80de8fce1a1ce85fedac&#34;&gt;Examples&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;def controller_action
  query = QueryObject.new(fix_asterisks(params[:query]))
  ...

  # params[:query][:last_name] = &amp;quot;smith*&amp;quot;
  p query.last_name
  # =&amp;gt; &amp;quot;smith%&amp;quot;

  # params[:query][:last_name] = &amp;quot;smith%&amp;quot;
  p query.last_name
  # =&amp;gt; &amp;quot;smith%&amp;quot;

  # params[:query][:days] = &amp;quot;13&amp;quot;
  p query.days
  # =&amp;gt; &amp;quot;13&amp;quot;
  ...

  objs = Customer.where([&#39;last_name like ?&#39;, query.last_name])
end
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>App won&#39;t Install with Apple Configurator</title>
      <link>http://www.erebusbat.com/2015/06/app-wont-install-with-apple-configurator/</link>
      <pubDate>Mon, 29 Jun 2015 10:10:26 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2015/06/app-wont-install-with-apple-configurator/</guid>
      <description>&lt;p&gt;Recently at work we had the need to provision roughly ten iPads in a secure way for a single app usage scenario.&lt;/p&gt;

&lt;p&gt;I was making good progress using &lt;a href=&#34;https://itunes.apple.com/us/app/apple-configurator/id434433123?mt=12&#34;&gt;Apple Configurator&lt;/a&gt; (AC) to lock down the iPad.  Then all of the sudden my app wouldn&amp;rsquo;t install on the iPad, despite being very clearly checked on the &lt;em&gt;App&lt;/em&gt; tab of the AC interface.&lt;/p&gt;

&lt;p&gt;This was especially troubling because it had worked just the day before.&lt;/p&gt;

&lt;p&gt;After some looking around I found the culprit.  Due to my over zealousness I i had changed a very innocuous feature that prevented &lt;em&gt;any&lt;/em&gt; apps from being installed, even ones I specified in AC.&lt;/p&gt;

&lt;p&gt;The offending setting is configured in the &lt;em&gt;Restrictions&lt;/em&gt; payload, under the &lt;em&gt;Media Content&lt;/em&gt; section there is a drown down for App ratings.  A quick and naive reading of that section might think that is just for downloading apps; however it will also block AC from installing them as well.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://www.erebusbat.com/img/2015/06-AC-no-apps.png&#34; alt=&#34;AC No Apps&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Changing the setting back to &lt;em&gt;Allow All Apps&lt;/em&gt; and a quick refresh in AC later and my app appeared as expected.&lt;/p&gt;

&lt;p&gt;I am OK leaving this setting as it because there is another setting under the &lt;em&gt;Apps&lt;/em&gt; tab that disables the App Store altogether.  When enabled the App Store icon doesn&amp;rsquo;t even appear on the device.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://www.erebusbat.com/img/2015/06-AC-no-app-store.png&#34; alt=&#34;AC No App Store&#34; /&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Dumping Character Codes in Go</title>
      <link>http://www.erebusbat.com/2015/03/dumping-character-codes-in-go/</link>
      <pubDate>Sun, 08 Mar 2015 08:07:13 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2015/03/dumping-character-codes-in-go/</guid>
      <description>

&lt;p&gt;While iterating file names on my OSX system I noticed that I could not do conditional matching the the &lt;code&gt;Icon?&lt;/code&gt; file, which is used to store custom icons for the Mac OSX Finder.&lt;/p&gt;

&lt;p&gt;Turns out that OSX appends a CR (yes a carriage return) at the end of the file name.  WTF?&lt;/p&gt;

&lt;p&gt;Anyway&amp;hellip; I ended up with this small snippet of code to dump char codes of a string to the console that has no business remaining in the original project.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func DumpString(str string) {
  for _, c := range str {
    fmt.Printf(&amp;quot;&amp;gt;%s&amp;lt; %d\n&amp;quot;, string(c), c)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;example:1a90af6c5b320cda1ae891e245fd4f54&#34;&gt;Example&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ go run main.go
&amp;gt;H&amp;lt; 72
&amp;gt;e&amp;lt; 101
&amp;gt;l&amp;lt; 108
&amp;gt;l&amp;lt; 108
&amp;gt;o&amp;lt; 111
&amp;gt; &amp;lt; 32
&amp;gt;W&amp;lt; 87
&amp;gt;o&amp;lt; 111
&amp;gt;r&amp;lt; 114
&amp;gt;l&amp;lt; 108
&amp;gt;d&amp;lt; 100
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Embed SASS in HAML</title>
      <link>http://www.erebusbat.com/2015/03/embed-sass-in-haml/</link>
      <pubDate>Wed, 04 Mar 2015 00:00:00 +0000</pubDate>
      
      <guid>http://www.erebusbat.com/2015/03/embed-sass-in-haml/</guid>
      <description>&lt;p&gt;Sometimes it is necessary to add CSS styling tags directly into HAML content.  I am forever forgetting the proper way to do this.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-haml&#34;&gt;%style{type:&#39;text/css&#39;}
  :sass
    .bundle_logo
      background: url(logo.jpg) no-repeat scroll left top transparent
      height: 133px
      width: 128px
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>PostgreSQL Field Notes</title>
      <link>http://www.erebusbat.com/2014/06/postgresql-field-notes/</link>
      <pubDate>Fri, 27 Jun 2014 21:17:59 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2014/06/postgresql-field-notes/</guid>
      <description>&lt;p&gt;PostgreSQL Field Notes&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ export PGDATA=/usr/local/var/postgres
$ pg_ctl status
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>initdb.txt pgsql initdb</title>
      <link>http://www.erebusbat.com/2014/06/initdb.txt-pgsql-initdb/</link>
      <pubDate>Fri, 27 Jun 2014 21:10:29 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2014/06/initdb.txt-pgsql-initdb/</guid>
      <description>

&lt;h2 id=&#34;postgresql:a6f8c6d51de4deb2312555679b437def&#34;&gt;PostgreSQL&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.postgresql.org/docs/9.4/static/app-initdb.html&#34;&gt;http://www.postgresql.org/docs/9.4/static/app-initdb.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;initdb&lt;/code&gt; creates a new PostgreSQL database cluster. A database cluster is a collection of databases that are managed by a single server instance.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;initdb&lt;/code&gt; must be run as the user that will own the server process, because the server needs to have access to the files and directories that initdb creates.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ initdb -D /usr/local/var/postgres                                                                       The files belonging to this database system will be owned by user &amp;quot;aburns&amp;quot;.
This user must also own the server process.

The database cluster will be initialized with locale &amp;quot;en_US.UTF-8&amp;quot;.
The default database encoding has accordingly been set to &amp;quot;UTF8&amp;quot;.
The default text search configuration will be set to &amp;quot;english&amp;quot;.

Data page checksums are disabled.

fixing permissions on existing directory /usr/local/var/postgres ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
creating configuration files ... ok
creating template1 database in /usr/local/var/postgres/base/1 ... ok
initializing pg_authid ... ok
initializing dependencies ... ok
creating system views ... ok
loading system objects&#39; descriptions ... ok
creating collations ... ok
creating conversions ... ok
creating dictionaries ... ok
setting privileges on built-in objects ... ok
creating information schema ... ok
loading PL/pgSQL server-side language ... ok
vacuuming database template1 ... ok
copying template1 to template0 ... ok
copying template1 to postgres ... ok
syncing data to disk ... ok

WARNING: enabling &amp;quot;trust&amp;quot; authentication for local connections
You can change this by editing pg_hba.conf or using the option -A, or
--auth-local and --auth-host, the next time you run initdb.

Success. You can now start the database server using:

    postgres -D /usr/local/var/postgres
or
    pg_ctl -D /usr/local/var/postgres -l logfile start
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>AWK Field Notes</title>
      <link>http://www.erebusbat.com/2014/06/awk-field-notes/</link>
      <pubDate>Thu, 19 Jun 2014 13:52:50 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2014/06/awk-field-notes/</guid>
      <description>

&lt;p&gt;Misc notes and snippets in a &lt;em&gt;Field Notes&lt;/em&gt; style&lt;/p&gt;

&lt;h4 id=&#34;links:6929c066a1635d550302642d3d7c34ff&#34;&gt;Links&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://stackoverflow.com/a/6546314/3683&#34;&gt;http://stackoverflow.com/a/6546314/3683&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;quick:6929c066a1635d550302642d3d7c34ff&#34;&gt;Quick&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# Get amount of free mem (in -m MB)
$ free -m | grep -E &#39;^Mem&#39; | awk &#39;{print $4}&#39;
$ free -m | awk &#39;/^Mem/ {print $4}&#39;
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>MySQL Dump Field Notes</title>
      <link>http://www.erebusbat.com/2014/04/mysql-dump-field-notes/</link>
      <pubDate>Tue, 15 Apr 2014 20:07:28 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2014/04/mysql-dump-field-notes/</guid>
      <description>

&lt;p&gt;Misc notes and snippets in a &lt;em&gt;Field Notes&lt;/em&gt; style&lt;/p&gt;

&lt;h4 id=&#34;large-tables:88db73746f7b201d5d160d4ae8934898&#34;&gt;Large Tables&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://stackoverflow.com/questions/5666784/how-can-i-slow-down-a-mysql-dump-as-to-not-affect-current-load-on-the-server&#34;&gt;http://stackoverflow.com/questions/5666784/how-can-i-slow-down-a-mysql-dump-as-to-not-affect-current-load-on-the-server&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# http://stackoverflow.com/a/12142501/3683
mysqldump -u USER -p --single-transaction --quick \
  --lock-tables=false DATABASE | gzip &amp;gt; OUTPUT.gz
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;examples:88db73746f7b201d5d160d4ae8934898&#34;&gt;Examples&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mysqldump [options] [db_name [tbl_name ...]]

# Copy a subset of content to another server (-t no create table, -i add info comments):
mysqldump -i -t -uroot database_development contents \
  --where=&amp;quot;url LIKE &#39;corporate/protected%&#39;&amp;quot; \
  | ssh devsrv &amp;quot;mysql database_production&amp;quot;

mysqldump database_production widgets \
  | bzip2 -c &amp;gt; production_widgets.sql.bz2

bzcat db/sql/production_widgets.sql.bz2 \
  | mysql -uroot database_development

# Dump table over SSH tunnel w/o temp file
ssh prodsrv &amp;quot;mysqldump database_production widgets&amp;quot; \
  | mysql -uroot database_development
ssh prodsrv &amp;quot;mysqldump database_production contents&amp;quot; \
  | mysql -uroot database_development

# Dump table over SSH, compress
ssh prodsrv &amp;quot;mysqldump database_production widgets \
  | gzip&amp;quot; \
  | gzip -d \
  | mysql -uroot database_development

# Dump table to date/time stamped GPG encrypted file
mysqldump database_production widgets \
  | gpg -e -r user@domain.com -o &amp;quot;widgets-$(date +%Y%m%d-%H%M%S).sql.gpg&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;move-tables-data-around:88db73746f7b201d5d160d4ae8934898&#34;&gt;Move tables/data around&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# Copy table from local server to remote server, compressing the transport
mysqldump -uroot database_development portal_agencies \
  | gzip \
  | ssh prodsrv &amp;quot;gzip -d | mysql database_production&amp;quot;

# Copy table from remote server to local, compress
ssh prodsrv &amp;quot;mysqldump database_production portal_agencies | gzip&amp;quot; \
  | gzip -d \
  | mysql -uroot database_development

# Copy table from production to file on local workstation
ssh prodsrv &amp;quot;mysqldump database_production --comments widgets \
  | bzip2 -c&amp;quot; &amp;gt; widgets.sql.bz2
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Calculating Table Sizes in MySQL</title>
      <link>http://www.erebusbat.com/2014/04/calculating-table-sizes-in-mysql/</link>
      <pubDate>Tue, 15 Apr 2014 13:57:40 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2014/04/calculating-table-sizes-in-mysql/</guid>
      <description>&lt;nav&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#links:3e8ba73afe940e0453b56d3dc51e8ddc&#34;&gt;Links&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;

&lt;p&gt;How to calculate table sized in MySQL&lt;/p&gt;

&lt;h6 id=&#34;links:3e8ba73afe940e0453b56d3dc51e8ddc&#34;&gt;Links&lt;/h6&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://stackoverflow.com/a/6474642/3683&#34;&gt;SO: how-can-you-determine-how-much-disk-space-a-particular-mysql-table-is-taking-up&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;--BYTES
SELECT (data_length+index_length) tablesize
FROM information_schema.tables
WHERE table_schema=&#39;mydb&#39; and table_name=&#39;mytable&#39;;

--KILOBYTES
SELECT (data_length+index_length)/power(1024,1) tablesize_kb
FROM information_schema.tables
WHERE table_schema=&#39;mydb&#39; and table_name=&#39;mytable&#39;;

--MEGABYTES
SELECT (data_length+index_length)/power(1024,2) tablesize_mb
FROM information_schema.tables
WHERE table_schema=&#39;mydb&#39; and table_name=&#39;mytable&#39;;

--GIGABYTES
SELECT (data_length+index_length)/power(1024,3) tablesize_gb
FROM information_schema.tables
WHERE table_schema=&#39;mydb&#39; and table_name=&#39;mytable&#39;;


--GENERIC
--Here is a generic query where the maximum unit display is TB (TeraBytes)
SELECT
    CONCAT(FORMAT(DAT/POWER(1024,pw1),2),&#39; &#39;,SUBSTR(units,pw1*2+1,2)) DATSIZE,
    CONCAT(FORMAT(NDX/POWER(1024,pw2),2),&#39; &#39;,SUBSTR(units,pw2*2+1,2)) NDXSIZE,
    CONCAT(FORMAT(TBL/POWER(1024,pw3),2),&#39; &#39;,SUBSTR(units,pw3*2+1,2)) TBLSIZE
FROM
(
    SELECT DAT,NDX,TBL,IF(px&amp;gt;4,4,px) pw1,IF(py&amp;gt;4,4,py) pw2,IF(pz&amp;gt;4,4,pz) pw3
    FROM
    (
        SELECT data_length DAT,index_length NDX,data_length+index_length TBL,
        FLOOR(LOG(IF(data_length=0,1,data_length))/LOG(1024)) px,
        FLOOR(LOG(IF(index_length=0,1,index_length))/LOG(1024)) py,
        FLOOR(LOG(IF(data_length+index_length=0,1,data_length+index_length))/LOG(1024)) pz
        FROM information_schema.tables
        WHERE table_schema=&#39;mydb&#39;
        AND table_name=&#39;mytable&#39;
    ) AA
) A,(SELECT &#39;B KBMBGBTB&#39; units) B;
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Simple Ruby CLI Apps</title>
      <link>http://www.erebusbat.com/2014/04/simple-ruby-cli-apps/</link>
      <pubDate>Tue, 08 Apr 2014 21:52:21 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2014/04/simple-ruby-cli-apps/</guid>
      <description>

&lt;h2 id=&#34;see-also:628634f0f24cfc636eac2f4dfbfeb56c&#34;&gt;See Also&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.erebusbat.com/tags/bundler&#34;&gt;bundler&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;general-notes:628634f0f24cfc636eac2f4dfbfeb56c&#34;&gt;General Notes&lt;/h2&gt;

&lt;h2 id=&#34;allow-file-to-be-a-library-script-at-the-same-time:628634f0f24cfc636eac2f4dfbfeb56c&#34;&gt;Allow file to be a library/script at the same time&lt;/h2&gt;

&lt;h3 id=&#34;script-rb:628634f0f24cfc636eac2f4dfbfeb56c&#34;&gt;script.rb&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;###############
# Entry Point
###############
if __FILE__ == $0 then
  # Setup / Invocation code here
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;generic-script-header:628634f0f24cfc636eac2f4dfbfeb56c&#34;&gt;Generic Script Header&lt;/h2&gt;

&lt;p&gt;Sets up Bundler and the current directory to be in the load path.&lt;/p&gt;

&lt;h3 id=&#34;script-rb-1:628634f0f24cfc636eac2f4dfbfeb56c&#34;&gt;script.rb&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;#!/usr/bin/env ruby
require &#39;rubygems&#39;
require &#39;bundler/setup&#39;
Bundler.require
$: &amp;lt;&amp;lt; File.dirname(__FILE__) unless $:.include? File.dirname(__FILE__)

###############
# Entry Point
###############
if __FILE__ == $0 then
  # Setup / Invocation code here
end
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Ruby Bundler Field Notes</title>
      <link>http://www.erebusbat.com/2014/04/ruby-bundler-field-notes/</link>
      <pubDate>Tue, 08 Apr 2014 14:18:07 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2014/04/ruby-bundler-field-notes/</guid>
      <description>

&lt;h2 id=&#34;links:bc6aa8c0f0fcd2cbdf86dac3c7ca596d&#34;&gt;Links&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://bundler.io/v1.6/bundler_setup.html&#34;&gt; Bundler Setup Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://bundler.io/v1.6/git.html&#34;&gt; Bundler with Git Repos&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://bundler.io/v1.6/gemfile.html&#34;&gt; Gemfile docs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;setup:bc6aa8c0f0fcd2cbdf86dac3c7ca596d&#34;&gt;Setup&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ bundle init
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;script-rb:bc6aa8c0f0fcd2cbdf86dac3c7ca596d&#34;&gt;&lt;code&gt;script.rb&lt;/code&gt;&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;#!/usr/bin/env ruby
require &#39;rubygems&#39;
require &#39;bundler/setup&#39;
Bundler.require

# Or
Bundler.require(:group)
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;gemfile:bc6aa8c0f0fcd2cbdf86dac3c7ca596d&#34;&gt;&lt;code&gt;Gemfile&lt;/code&gt;&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;source &#39;https://rubygems.org&#39;    # Default

gem &#39;nokogiri&#39;, :git =&amp;gt; &#39;git://github.com/tenderlove/nokogiri.git&#39;,
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Microsoft SQL Server Field Notes</title>
      <link>http://www.erebusbat.com/2014/03/microsoft-sql-server-field-notes/</link>
      <pubDate>Wed, 26 Mar 2014 16:41:06 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2014/03/microsoft-sql-server-field-notes/</guid>
      <description>

&lt;p&gt;Random field notes on Microsoft SQL Server&lt;/p&gt;

&lt;h2 id=&#34;misc-snippets:a34e8838774afbd86c31d4cce476018f&#34;&gt;Misc Snippets&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- Create new table from select:
SELECT [WHFCustomerID], [CustomerNumber], [LastName], [FirstName], [MiddleInitial], [Address], [City], [State], [Zip], [PhoneNumber], [SocialSecurityNumber], [MedicaidID], [EmailAddress], [DateOfBirth], [Sex], [DateCreated], [DateUpdated], [WHFConvertDate], [MayoEventCode], [MayoUpdateDate]
INTO Roundup_Test.dbo.Customers
FROM Roundup.[dbo].[Customers];

-- Insert into existing table from select
INSERT INTO Customers
SELECT [WHFCustomerID], [CustomerNumber], [LastName], [FirstName], [MiddleInitial], [Address], [City], [State], [Zip], [PhoneNumber], [SocialSecurityNumber], [MedicaidID], [EmailAddress], [DateOfBirth], [Sex], [DateCreated], [DateUpdated], [WHFConvertDate], [MayoEventCode], [MayoUpdateDate]
FROM Roundup.[dbo].[Customers];

--Strip time component
update C
SET C.DateOfBirth=DATEADD(dd, DATEDIFF(dd, 0, C.DateOfBirth), 0)
from Customers C
where C.CustomerNumber like &#39;W85%&#39;;

-- Display date as mm/dd/yyyy (text)
select convert(char(10),getdate(), 0),101) as Today
select convert(char(10),DATEADD(dd, DATEDIFF(dd, 0, CD.DateCollected), 0),101) as DateCollected

-- bundle_participants

-- TRUNCATE TABLE Roundup_Test.dbo.bundle_participants;
-- DROP TABLE Roundup_Test.dbo.bundle_participants;

SET IDENTITY_INSERT Roundup_Test.dbo.bundle_participants ON;
INSERT INTO Roundup_Test.dbo.bundle_participants
(id,portal_id, family_id, family_seq_number, customer_number, member_id, ssn, dob, last_name, first_name, member_class, relationship_code, relationship_desc, is_split, address, city, state, zipcode, start_date, end_date, agency_code, gender, activation_date, sub_agency1, sub_agency2, is_termed, member_uid, phone_number, email, bundle_id, matched_by, created_at, updated_at )
SELECT *
  FROM Roundup.dbo.bundle_participants;
SET IDENTITY_INSERT Roundup_Test.dbo.bundle_participants OFF;


delete from Roundup.dbo.bundle_participants where portal_id=1;
INSERT INTO Roundup.dbo.bundle_participants
SELECT  [portal_id], [family_id], [family_seq_number], [customer_number], [member_id], [ssn], [dob], [last_name], [first_name], [member_class], [relationship_code], [relationship_desc], [is_split], [address], [city], [state], [zipcode], [start_date], [end_date], [agency_code], [gender], [activation_date], [sub_agency1], [sub_agency2], [is_termed], [phone_number], [email], [bundle_id], [matched_by], [created_at], [updated_at]
	FROM Roundup_test.[dbo].[bundle_participants]
 where portal_id=1;



--Update with JOIN
-- http://stackoverflow.com/questions/1604091/update-a-table-using-join-in-sql-server
UPDATE t1
  SET t1.CalculatedColumn = t2.[Calculated Column]
  FROM dbo.Table1 AS t1
  INNER JOIN dbo.Table2 AS t2
  ON t1.CommonField = t2.[Common Field]
  WHERE t1.BatchNo = &#39;110&#39;;

&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ddl-management:a34e8838774afbd86c31d4cce476018f&#34;&gt;DDL/Management&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- Find FK References
SELECT
    f.name AS ForeignKey,
    OBJECT_NAME(f.parent_object_id) AS TableName,
    COL_NAME(fc.parent_object_id,
    fc.parent_column_id) AS ColumnName,
    OBJECT_NAME (f.referenced_object_id) AS ReferenceTableName,
    COL_NAME(fc.referenced_object_id,
    fc.referenced_column_id) AS ReferenceColumnName
FROM
    sys.foreign_keys AS f
    INNER JOIN sys.foreign_key_columns AS fc ON f.OBJECT_ID = fc.constraint_object_id
ORDER BY ReferenceTableName;
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Find Method at Runtime</title>
      <link>http://www.erebusbat.com/2014/03/find-method-at-runtime/</link>
      <pubDate>Sun, 02 Mar 2014 22:42:40 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2014/03/find-method-at-runtime/</guid>
      <description>&lt;p&gt;How to find the source location of a Ruby method at runtime.&lt;/p&gt;

&lt;p&gt;Taken from the &lt;a href=&#34;http://stackoverflow.com/questions/175655/how-to-find-where-a-method-is-defined-at-runtime&#34;&gt;Stack Overflow&lt;/a&gt; answer by &lt;a href=&#34;http://stackoverflow.com/users/62140/&#34;&gt;wesgarrison&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I take no credit for the work.&lt;/p&gt;

&lt;hr /&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;# How to find out where a method comes from.
# Learned this from Dave Thomas while teaching Advanced Ruby Studio
# Makes the case for separating method definitions into
# modules, especially when enhancing built-in classes.
module Perpetrator
  def crime
  end
end

class Fixnum
  include Perpetrator
end

p 2.method(:crime)
#&amp;lt;Method: Fixnum(Perpetrator)#crime&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you&amp;rsquo;re on Ruby 1.9+, you can use &lt;a href=&#34;http://www.ruby-doc.org/core-1.9.3/Method.html#method-i-source_location&#34;&gt;&lt;code&gt;source_location&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;require &#39;csv&#39;

p CSV.new(&#39;string&#39;).method(:flock)
# =&amp;gt; #&amp;lt;Method: CSV#flock&amp;gt;

CSV.new(&#39;string&#39;).method(:flock).source_location
# =&amp;gt; [&amp;quot;/path/to/ruby/1.9.2-p290/lib/ruby/1.9.1/forwardable.rb&amp;quot;, 180]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Note that this won&amp;rsquo;t work on everything, like native compiled code. The &lt;a href=&#34;http://www.ruby-doc.org/core-1.9.3/Method.html&#34;&gt;Method class&lt;/a&gt; has some neat functions, too, like &lt;a href=&#34;http://www.ruby-doc.org/core-1.9.3/Method.html#method-i-owner&#34;&gt;Method#owner&lt;/a&gt; which returns the file where the method is defined.&lt;/p&gt;

&lt;p&gt;EDIT: Also see the &lt;code&gt;__file__&lt;/code&gt; and &lt;code&gt;__line__&lt;/code&gt; and notes for REE in the other answer, they&amp;rsquo;re handy too. &amp;ndash; wg&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Hide/Unhide Chart Axis</title>
      <link>http://www.erebusbat.com/2013/08/hide/unhide-chart-axis/</link>
      <pubDate>Fri, 09 Aug 2013 19:02:12 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2013/08/hide/unhide-chart-axis/</guid>
      <description>

&lt;h2 id=&#34;hide-unhide-chart-axis:a9e8c812db8650e2096509e92c06400a&#34;&gt;Hide/Unhide Chart Axis&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-vbnet&#34;&gt;&#39;// This takes a sheet name, where it is a chart sheet.
&#39;// If your chart lives on a regular worksheet then you will probably need to add a call to Sheet.ChartObject(&amp;quot;chart name&amp;quot;)
Function ToggleChartAxisValues(sheetName As String)
    Dim c As Chart, isHidden As Boolean, ax As Axis
    Set c = Sheets(sheetName)
    Set ax = c.Axes(xlValue)
    isHidden = (ax.TickLabelPosition = xlTickLabelPositionNone)

    If isHidden Then
        &#39;// Unhide
        ax.TickLabelPosition = xlTickLabelPositionNextToAxis
    Else
        &#39;// Hide
        ax.TickLabelPosition = xlTickLabelPositionNone
    End If
End Function
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>