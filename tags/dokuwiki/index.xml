<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dokuwiki on ErebusBat</title>
    <link>http://www.erebusbat.com/tags/dokuwiki/</link>
    <description>Recent content in Dokuwiki on ErebusBat</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 26 Mar 2014 16:41:06 -0600</lastBuildDate>
    <atom:link href="http://www.erebusbat.com/tags/dokuwiki/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Microsoft SQL Server Field Notes</title>
      <link>http://www.erebusbat.com/2014/03/microsoft-sql-server-field-notes/</link>
      <pubDate>Wed, 26 Mar 2014 16:41:06 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2014/03/microsoft-sql-server-field-notes/</guid>
      <description>

&lt;p&gt;Random field notes on Microsoft SQL Server&lt;/p&gt;

&lt;h2 id=&#34;misc-snippets:a34e8838774afbd86c31d4cce476018f&#34;&gt;Misc Snippets&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- Create new table from select:
SELECT [WHFCustomerID], [CustomerNumber], [LastName], [FirstName], [MiddleInitial], [Address], [City], [State], [Zip], [PhoneNumber], [SocialSecurityNumber], [MedicaidID], [EmailAddress], [DateOfBirth], [Sex], [DateCreated], [DateUpdated], [WHFConvertDate], [MayoEventCode], [MayoUpdateDate]
INTO Roundup_Test.dbo.Customers
FROM Roundup.[dbo].[Customers];

-- Insert into existing table from select
INSERT INTO Customers
SELECT [WHFCustomerID], [CustomerNumber], [LastName], [FirstName], [MiddleInitial], [Address], [City], [State], [Zip], [PhoneNumber], [SocialSecurityNumber], [MedicaidID], [EmailAddress], [DateOfBirth], [Sex], [DateCreated], [DateUpdated], [WHFConvertDate], [MayoEventCode], [MayoUpdateDate]
FROM Roundup.[dbo].[Customers];

--Strip time component
update C
SET C.DateOfBirth=DATEADD(dd, DATEDIFF(dd, 0, C.DateOfBirth), 0)
from Customers C
where C.CustomerNumber like &#39;W85%&#39;;

-- Display date as mm/dd/yyyy (text)
select convert(char(10),getdate(), 0),101) as Today
select convert(char(10),DATEADD(dd, DATEDIFF(dd, 0, CD.DateCollected), 0),101) as DateCollected

-- bundle_participants

-- TRUNCATE TABLE Roundup_Test.dbo.bundle_participants;
-- DROP TABLE Roundup_Test.dbo.bundle_participants;

SET IDENTITY_INSERT Roundup_Test.dbo.bundle_participants ON;
INSERT INTO Roundup_Test.dbo.bundle_participants
(id,portal_id, family_id, family_seq_number, customer_number, member_id, ssn, dob, last_name, first_name, member_class, relationship_code, relationship_desc, is_split, address, city, state, zipcode, start_date, end_date, agency_code, gender, activation_date, sub_agency1, sub_agency2, is_termed, member_uid, phone_number, email, bundle_id, matched_by, created_at, updated_at )
SELECT *
  FROM Roundup.dbo.bundle_participants;
SET IDENTITY_INSERT Roundup_Test.dbo.bundle_participants OFF;


delete from Roundup.dbo.bundle_participants where portal_id=1;
INSERT INTO Roundup.dbo.bundle_participants
SELECT  [portal_id], [family_id], [family_seq_number], [customer_number], [member_id], [ssn], [dob], [last_name], [first_name], [member_class], [relationship_code], [relationship_desc], [is_split], [address], [city], [state], [zipcode], [start_date], [end_date], [agency_code], [gender], [activation_date], [sub_agency1], [sub_agency2], [is_termed], [phone_number], [email], [bundle_id], [matched_by], [created_at], [updated_at]
	FROM Roundup_test.[dbo].[bundle_participants]
 where portal_id=1;



--Update with JOIN
-- http://stackoverflow.com/questions/1604091/update-a-table-using-join-in-sql-server
UPDATE t1
  SET t1.CalculatedColumn = t2.[Calculated Column]
  FROM dbo.Table1 AS t1
  INNER JOIN dbo.Table2 AS t2
  ON t1.CommonField = t2.[Common Field]
  WHERE t1.BatchNo = &#39;110&#39;;

&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ddl-management:a34e8838774afbd86c31d4cce476018f&#34;&gt;DDL/Management&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- Find FK References
SELECT
    f.name AS ForeignKey,
    OBJECT_NAME(f.parent_object_id) AS TableName,
    COL_NAME(fc.parent_object_id,
    fc.parent_column_id) AS ColumnName,
    OBJECT_NAME (f.referenced_object_id) AS ReferenceTableName,
    COL_NAME(fc.referenced_object_id,
    fc.referenced_column_id) AS ReferenceColumnName
FROM
    sys.foreign_keys AS f
    INNER JOIN sys.foreign_key_columns AS fc ON f.OBJECT_ID = fc.constraint_object_id
ORDER BY ReferenceTableName;
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Hide/Unhide Chart Axis</title>
      <link>http://www.erebusbat.com/2013/08/hide/unhide-chart-axis/</link>
      <pubDate>Fri, 09 Aug 2013 19:02:12 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2013/08/hide/unhide-chart-axis/</guid>
      <description>

&lt;h2 id=&#34;hide-unhide-chart-axis:a9e8c812db8650e2096509e92c06400a&#34;&gt;Hide/Unhide Chart Axis&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-vbnet&#34;&gt;&#39;// This takes a sheet name, where it is a chart sheet.
&#39;// If your chart lives on a regular worksheet then you will probably need to add a call to Sheet.ChartObject(&amp;quot;chart name&amp;quot;)
Function ToggleChartAxisValues(sheetName As String)
    Dim c As Chart, isHidden As Boolean, ax As Axis
    Set c = Sheets(sheetName)
    Set ax = c.Axes(xlValue)
    isHidden = (ax.TickLabelPosition = xlTickLabelPositionNone)

    If isHidden Then
        &#39;// Unhide
        ax.TickLabelPosition = xlTickLabelPositionNextToAxis
    Else
        &#39;// Hide
        ax.TickLabelPosition = xlTickLabelPositionNone
    End If
End Function
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Calculating EMA in Excel</title>
      <link>http://www.erebusbat.com/2013/08/calculating-ema-in-excel/</link>
      <pubDate>Thu, 08 Aug 2013 20:13:07 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2013/08/calculating-ema-in-excel/</guid>
      <description>

&lt;h4 id=&#34;exponential-moving-average:8409931a967e1b7377cbecc480e552ae&#34;&gt;Exponential Moving Average&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.willowsolutions.com/tips/tips_2002_11.shtml&#34;&gt;http://www.willowsolutions.com/tips/tips_2002_11.shtml&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.willowsolutions.com/tips/tips_2002_11_1.shtml&#34;&gt;http://www.willowsolutions.com/tips/tips_2002_11_1.shtml&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.aaii.com/computerizedinvesting/article/spreadsheet-corner-constructing-moving-averages&#34;&gt;http://www.aaii.com/computerizedinvesting/article/spreadsheet-corner-constructing-moving-averages&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A simple moving average calculates the average price for a set number of time periods. To calculate a 10 day moving average you would calculate the sum of the closing price for a period of 10 days and divide by 10. On the eleventh day you would add the price for the eleventh day to the average and subtract the price for the first day.&lt;/p&gt;

&lt;p&gt;The formula used to calculate an EMA uses a smoothing constant. The smoothing constant applies the appropriate weighting for the most recent price relative to the previous day’s EMA calculation.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;EMA=(Today’s Last – Yesterday’s EMA) x (SmoothingConstant) + Yesterday’s EMA

# N=EMA Periods
SmoothingConstant = 2 / (1 + N)
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Convert to Excel Time from Unix Time</title>
      <link>http://www.erebusbat.com/2013/08/convert-to-excel-time-from-unix-time/</link>
      <pubDate>Thu, 08 Aug 2013 18:50:09 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2013/08/convert-to-excel-time-from-unix-time/</guid>
      <description>&lt;p&gt;&lt;strong&gt;UnixTime&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ExcelTime = (UnixTime + (&amp;quot;1/1/1970&amp;quot;-&amp;quot;1/1/1900&amp;quot;+1)*86400) / 86400
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>How to Format Data for OHLC charts</title>
      <link>http://www.erebusbat.com/2013/08/how-to-format-data-for-ohlc-charts/</link>
      <pubDate>Thu, 08 Aug 2013 18:49:36 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2013/08/how-to-format-data-for-ohlc-charts/</guid>
      <description>

&lt;h1 id=&#34;howto-format-data-for-ohlc-charts:1f72f7308066a43c90d3c8131ce4d84d&#34;&gt;HOWTO: Format Data for OHLC charts&lt;/h1&gt;

&lt;p&gt;Format data in this manner:&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Date&lt;/th&gt;
&lt;th&gt;Open&lt;/th&gt;
&lt;th&gt;High&lt;/th&gt;
&lt;th&gt;Low&lt;/th&gt;
&lt;th&gt;Close&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1/1/12&lt;/td&gt;
&lt;td&gt;4.72202&lt;/td&gt;
&lt;td&gt;5.4999&lt;/td&gt;
&lt;td&gt;4.615&lt;/td&gt;
&lt;td&gt;5.26766&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;1/2/12&lt;/td&gt;
&lt;td&gt;5.26766&lt;/td&gt;
&lt;td&gt;5.47&lt;/td&gt;
&lt;td&gt;4.8&lt;/td&gt;
&lt;td&gt;5.21678&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
    </item>
    
    <item>
      <title>ZSH Field Notes</title>
      <link>http://www.erebusbat.com/2012/09/zsh-field-notes/</link>
      <pubDate>Tue, 04 Sep 2012 16:17:49 -0600</pubDate>
      
      <guid>http://www.erebusbat.com/2012/09/zsh-field-notes/</guid>
      <description>

&lt;p&gt;Misc notes and snippets in a &lt;em&gt;Field Notes&lt;/em&gt; style&lt;/p&gt;

&lt;h2 id=&#34;links:aa364d83240e3026be0190c02971a96d&#34;&gt;Links&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.cs.elte.hu/zsh-manual/zsh_12.html&#34;&gt;ZSH Conditional Expressions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://zanshin.net/2013/09/03/how-to-use-homebrew-zsh-instead-of-max-os-x-default/&#34;&gt;http://zanshin.net/2013/09/03/how-to-use-homebrew-zsh-instead-of-max-os-x-default/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://linux-training.be/files/books/html/fun/index.html&#34;&gt; Some basic but good generic linux docs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h3 id=&#34;path-expansion:aa364d83240e3026be0190c02971a96d&#34;&gt;Path Expansion&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/usr/bin/zsh
# test script
theVar=&#39;/bin/path/file.txt&#39;
echo ${theVar:e}    # txt
echo ${theVar:t}    # file.txt
echo ${theVar:r}    # /bin/path/file
echo ${theVar:h}    # /bin/path
echo ${theVar:h:h}  # /bin
echo ${theVar:t:r}  # file
&lt;/code&gt;&lt;/pre&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Flag&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;h&lt;/td&gt;
&lt;td&gt;Remove a trailing pathname component, leaving the head.  This works like `dirname&amp;rsquo;.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;r&lt;/td&gt;
&lt;td&gt;Remove a filename extension of the form `.XXX&amp;rsquo;, leaving the root name.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;e&lt;/td&gt;
&lt;td&gt;Remove all but the extension.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;t&lt;/td&gt;
&lt;td&gt;Remove all leading pathname components, leaving the tail.  This works like `basename&amp;rsquo;.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;hr /&gt;

&lt;h3 id=&#34;loops:aa364d83240e3026be0190c02971a96d&#34;&gt;Loops&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# WHILE - Simple watch
while (sleep 60) do; clear; ./command; done
# FOR - Every file
for f in *.m4v; do mvmedia $f; done
for f in *.{html,sass}; do echo $f; done
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# Dump MySQL table &#39;contents&#39; into development, every M5 /w messages
while (true) do;
  echo &amp;quot;Dumping $(date)...&amp;quot;;
  ssh prodsrv &amp;quot;mysqldump database_production contents&amp;quot; | mysql database_development;
  echo &amp;quot;    done&amp;quot;;
  sleep 300;
done
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# Very simple benchmark
for i in {1..5}; do time echo &#39;exit&#39; | rails c production; done
for i in {1..5}; do time rake -T &amp;gt; /dev/null; done
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# Process a subset of zero padded files, like D02S00.  03-13 in this example:
for s in `seq -f &amp;quot;%02g&amp;quot; 3 13`; do \
  task1.rb &amp;quot;IMG.D02S${s}.mkv&amp;quot; &amp;amp;&amp;amp; \
  task2 &amp;quot;IMG.D02S${s}.m4v&amp;quot;; done
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h3 id=&#34;regular-expressions-regex:aa364d83240e3026be0190c02971a96d&#34;&gt;Regular Expressions Regex&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;ITEMS=(
  Desktop
  Pictures
  Backups
)
# Allow specifying items to select as $1, separated by a space (/ /),
if [[ ! -z $1 ]]; then
  # This will become an array
  SPECIFIED_ITEMS=(&amp;quot;${(s/ /)1}&amp;quot;)
  for i in $SPECIFIED_ITEMS; do
    # This syntax will remove the extension (r), then check the ITEMS
    # collection to get the index ($i), -1 if not found
    if [[ ${${ITEMS[(r)$i]}:--1} == &amp;quot;-1&amp;quot; ]]; then
      echo &amp;quot;*** ERROR: $i is not a valid item! Valid items are: $ITEMS&amp;quot;
      exit 1
    else
      # OK
    fi
  done
  ITEMS=$SPECIFIED_ITEMS
fi
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h3 id=&#34;arrays:aa364d83240e3026be0190c02971a96d&#34;&gt;Arrays&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# Allow specifying items to override as $1, separated by a space (/ /),
# check to make sure that said items are valid (appear in the ITEMS list).
URLS=(
  Desktop
  Pictures
  Backups
)

# Loop
for f in $URLS; do
  wget $f
done
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h3 id=&#34;hotkeys:aa364d83240e3026be0190c02971a96d&#34;&gt;Hotkeys&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://coderwall.com/p/a8uxma&#34;&gt;https://coderwall.com/p/a8uxma&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.geekmind.net/2011/01/shortcuts-to-improve-your-bash-zsh.html&#34;&gt;http://www.geekmind.net/2011/01/shortcuts-to-improve-your-bash-zsh.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h3 id=&#34;history:aa364d83240e3026be0190c02971a96d&#34;&gt;History&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;http://stackoverflow.com/questions/9502274/last-command-in-same-terminal&#34;&gt;http://stackoverflow.com/questions/9502274/last-command-in-same-terminal&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# Don&#39;t share history between sessions
setopt no_share_history

# Share history between sessions
setopt share_history
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h3 id=&#34;passing-arguments-to-app:aa364d83240e3026be0190c02971a96d&#34;&gt;Passing Arguments to App&lt;/h3&gt;

&lt;p&gt;Below is a wrapper script that sources [[rbenv]] and passes ALL arguments (correctly) to the ruby script.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/zsh
export HOME=/Users/aburns
export PATH=$HOME/.rbenv/bin:$PATH
eval &amp;quot;$(rbenv init -)&amp;quot;
cd $HOME/bin/1.9.3
# echo -E ${(q)@}
ruby ./myIL.rb ${(Q)@}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>